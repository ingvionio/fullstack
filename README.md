I ## Запуск проекта через Docker

1. Установите Docker Desktop с поддержкой Docker Compose v2.
2. Обновите локальный репозиторий:
   - `git pull`
3. Перейдите в каталог с docker-compose:
   - `cd backend`
4. Проверьте переменные окружения:
   - Убедитесь, что в `backend` есть файл `.env` с нужными значениями (скопируйте пример, если он предусмотрен).
5. Соберите и запустите контейнеры:
   - `docker compose up --build`
   - Добавьте `-d`, если хотите запустить в фоне.
6. Доступ к сервисам после запуска:
   - Фронтенд: `http://localhost:8080`
   - Backend API: `http://localhost:8000` (документация обычно на `/docs`)

II ## Интсрукция по пользованию приложением
страница /registr - регистрация
страница /login - вход

Перед входом необходимо зарегистрироваться, кнопка перехода на страницу регистрации внизу страницы логин, пароль не мене 6 символов, корректная почта

Кнопка Админ панель открывает доступ к функционалу администратора. Можно заполнять критерии оценивания объектов, их типы и под типы, так же смотреть аналитику. 

Можно перейти к карте из личного кабинета по кнопке вверху экрана, перемещение карты с помощью ЛКМ. На карте отмечены точками объекты инфраструктуры влияющие на здоровье. В зависимости от рейтинга меняется цвет. при нажатии на точку открывается информация о точке, можно посмотреть и создать отзывы. При нажатии ПКМ по пустому месту можно создать новую точку. В левом верхнем углу можно включить тепловую карту, чтобы оценить ситуацию на интересующем районе. Так же есть поиск, рядом с поиском есть фильтры и возможность выключить точки. При отдалении точки собираются в массивы для лучшей визуализации. в правом верхнем углу есть кнопка позволяющая вернуться в личный кабинет.

ПРИМИЧАНИЕ: в целях демонстрации визуального отображения база данных была предварительно заполнена сгенерированными данными. Точки брались из дата сета, а их оценки сгенерированы около правдоподобным способом.
ПРИМИЧАНИЕ2: Весь интерфейс адаптирован под мобильные устройства.


III ## Технологический стек и схема работы

- Фронтенд: React + Vite, OpenLayers (`ol`) для рендеринга карты, React Router для маршрутов SPA. Сборка в контейнере, отдача статики через Nginx (порт 8080).
- Бэкенд: FastAPI (async) на Python, SQLAlchemy 2.x, Pydantic, uvicorn. Хранение данных в SQLite (`health_map.db`), медиа-файлы подключены через volume `./media:/app/media`. Порты: 8000 наружу.
- Контейнеризация: `docker compose` поднимает два сервиса (`backend`, `frontend`) в общей сети `health-map-net`, шарит файлы БД и медиа в бэкенд-контейнер.
- Аутентификация: запросы логина отправляются на `/auth/login`, сервер проверяет bcrypt-хеш пароля и возвращает данные пользователя; дальнейшие запросы идут сессией клиента к API.
- API: маршруты `/api/v1/...` обслуживают точки, отзывы, рейтинги, критерии и аналитику. Ответы используются фронтендом для карты, попапов и таблиц администратора.

Схема взаимодействия (упрощённо, порты по умолчанию):

browser (React SPA) --HTTP--> frontend (Nginx 8080)
       \___________________________________________
                        API calls
                         HTTP/JSON

frontend (Nginx, контейнер)
        --HTTP--> backend (FastAPI 8000) --SQLAlchemy--> SQLite (health_map.db)
                                       \
                                        \--> media volume (/app/media)

IV ##Расчёт оценки объекта инфраструктуры. 
В ходе решения кейса было принято ввести систему оценивания объектов, которая включает внутреннюю базовую оценку объекта в зависимости от его типа и пользовательскую оценку. Итоговая же оценка объекта (точки) вычисляется как среднее базовой оценки и пользовательской. Данная система позволяет гарантировать, что "вредные" здоровью объекты такие как заводы и алкомаркеты никогда не попадут в зелёную зону, даже если получат отличные оценки пользователей.